# 遊戯王NEXT v0.3.1 リリースノート

**リリース日**: 2025-11-14

v0.3.1は、v0.3.0のバグ修正とUI改善を含むマイナーアップデートです。

## 主な変更内容

### 🐛 重要なバグ修正

#### webpack設定の修正
- **問題**: ビルド後にpopup.cssが欠落し、ポップアップUIが正しく表示されない致命的バグ
- **修正**: webpack.config.jsにpopup.cssのコピー設定を追加
- **影響**: ポップアップUIが正常に表示されるようになりました

#### バージョン整合性の修正
- **問題**: version.dat、package.json、manifest.jsonでバージョン番号が不一致
- **修正**: 全てのファイルを0.3.1に統一

### 🎨 UI/UX改善

#### popupページのCSS分離
- インラインスタイルを廃止し、popup.cssに分離
- CSSカスタムプロパティ（CSS変数）を導入
- ダークモード対応の基盤を整備
- 保守性と拡張性が向上

#### オプションページのUI改善
- General/Deck Edit Settingsタブを一時非表示化（実装待ち）
- 画像レイアウトを調整
- サイドバーナビゲーション追加（折りたたみ可能）
- Chrome Store宣伝画像を追加（3枚、約2.5MB）

### ✅ テスト・品質保証

#### E2Eテスト実施
以下の機能の動作をブラウザ上で確認：
- **カード詳細タブ**: Info/Q&A/Related/Productsの4タブすべて正常動作
- **表示モード切り替え**: リスト表示⇔グリッド表示の切り替え動作確認
- **ソート機能**: Newer/Older/Name (A-Z)/(Z-A)の4オプションで動作確認

#### 多言語対応テスト
- **対応言語**: 10言語（ja/en/ae/ko/cn/de/fr/it/es/pt）
- **テスト結果**: 全10言語で言語検出が正常動作
- **確認内容**: 公式ページで`#nowlanguage`要素とURL searchParamsから正しく言語を検出

#### テストスイート実行
- **combine tests (tsx)**: 17 tests - ✅ 全て合格
- **component tests (vitest)**: 89 passed | 3 skipped - ✅ 全て合格
- **合計**: 106 tests合格

### 🔒 開発プロセス改善

#### ブランチ保護強化
- main/devブランチの直接push完全禁止（管理者も含む）
- `enforce_admins: false → true`に変更
- PR経由での変更を必須化
- コードレビュープロセスの徹底

### 📚 ドキュメント整備

#### 新規作成・更新
- `docs/changelog/v0.3.1.md`: v0.3.1の変更履歴
- `docs/changelog/index.md`: v0.3.1を追加
- `README.md`: バージョン情報と変更履歴リンクを追加
- `docs/dev/i18n.md`: 10言語対応を明記
- Repository名変更対応（ygo-neuron-helper → YuGiOh-NEXT）
- 連絡先情報追加
- done.md簡潔化（2,762行→58行、98%削減）

#### スクリーンショット
- デッキ編集機能のスクリーンショット24個追加
- Chrome Store宣伝画像3枚追加

### 📦 GitHub Release

- **v0.3.0** / **v0.3.1** のGitHub Release作成完了
- Chrome Web Store用アセット準備完了
- プライバシーポリシー更新

### 🔗 Pull Requests

- **PR #6**: UI改善・ドキュメント拡充 - ✅ マージ完了
- **PR #7**: v0.3.1リリース準備 (dev → main) - ✅ マージ完了
- **PR #8**: PR #7レビュー対応とdevブランチ保護強化 - ✅ マージ完了

## アップグレード方法

### Chrome拡張機能の更新

1. Chromeの拡張機能管理ページ (`chrome://extensions/`) を開く
2. 「デベロッパーモード」を有効化
3. 既存の拡張機能を削除
4. 新しいバージョンをインストール：
   - Chrome Web Storeからインストール（準備中）
   - または手動インストール: [リリースページ](https://github.com/TomoTom0/YuGiOh-NEXT/releases/tag/v0.3.1)からダウンロード

### 既存機能の互換性

v0.3.0からv0.3.1への移行は**完全に互換性があります**。既存の機能はそのまま動作します。

## 既知の問題・制限事項

### テスト関連（主要機能には影響なし）
- **API tests**: jest is not defined（vitestへの移行が必要）
- **deck-parser tests**: 期待値不一致
- **session tests**: cgid取得失敗（統合テスト）
- ※主要機能は全て動作確認済み（106 tests合格）

### UI多言語化
- **拡張機能UI**: 英語と日本語が混在（Chrome標準i18n未実装）
- **公式サイト対応**: 10言語のカード情報パースに対応済み

## 今後の予定

### v0.4.0（計画中）
- デッキ保存ダイアログの実装
- 高度な検索機能（絞り込み、デッキ内画像表示）
- デッキメタデータの編集
- Loadダイアログの改善

詳細は [CHANGELOG](../changelog/v0.3.1.md) をご覧ください。

## フィードバック

ご質問・ご要望・バグ報告は以下の方法でお寄せください：

- **お問い合わせフォーム**: https://docs.google.com/forms/d/e/1FAIpQLSdh2wRCUWpX6ZLfma-g5O46eD93wOPHpDHWQGxdOcJLmm_tGQ/viewform
- **メール**: TomoIris427+GitHub@gmail.com
- **GitHub Issues**: https://github.com/TomoTom0/YuGiOh-NEXT/issues

---

**前バージョン**: [v0.3.0](./v0.3.0.md)

# v0.4.0 変更履歴

リリース日: 2025-11-22

## 新機能

### 検索・フィルター機能の強化
- **検索入力バーの共通コンポーネント化**: SearchInputBarコンポーネントを抽出し、再利用性を向上
- **グローバル検索モード**: 検索入力欄の位置設定とグローバル検索モードを追加
- **検索フィルターダイアログ**: 三点メニューボタンからSearchFilterDialogを開けるように改善
- **フィルター条件の視覚表示**: フィルター条件を小さいアイコンで表示

### ソート機能の拡張
- **CardListソート機能拡張**: 7種類のソートオプション（発売日、名前、ATK、DEF、Lv/Rank、属性、種族）
- **ソート処理の集約**: ソートロジックを共通化

### カテゴリ・タグ機能
- **カテゴリ/タグ自動分類**: デッキ内カードの自動分類機能を実装
- **50音グループ**: 行レベルから文字レベルに変更し、より細かい分類が可能に
- **タグダイアログUI改善**: モンスタータイプ色とソート順を修正

### UI/UX改善
- **Load Dialogリデザイン**: カードリスト表示の改善
- **設定ダイアログの2x2グリッド化**: より見やすいレイアウトに変更
- **DeckSectionの検索フィルターUI改善**: フィルター条件の検索反映
- **Filter/Clearアイコン改善**: RightAreaタブのUI改善
- **ペンデュラムグラデーション**: 視覚効果の改善

## 改善

### パフォーマンス・安定性
- **CardListのuuid永続化**: 新規カードには最大インデックス+1を付与し、ユニーク性を保証
- **無限ループ問題の調査・修正**: 安定性向上

### 開発基盤
- **CI/CD整備**: GitHub Actions CIワークフロー追加
- **Dependabot設定**: 依存関係の自動更新設定
- **テスト全面修正**: 370件のテストが全て通過（0 skipped）
  - axiosモック実装
  - HTML構造追加
  - UI変更対応
  - Promise化
  - DOMベーステストへの変換

### コード品質
- **TypeScriptエラー修正**: card-search.ts、background/main.tsの修正
- **SortOrder型定義修正**: 実装に合わせて型を修正

## 内部変更

### ドキュメント
- 内部レビューレポート全13件対応完了
- deck-edit.tsストア分割調査
- UI/UX改善要求の記録

### 設定
- vitest.config.ts: tests/combine/**, deck-edit.test.ts除外設定追加

## 既知の問題

- tests/combine/ディレクトリのテストはVitest形式に未変換（除外設定で対応中）
- tests/unit/stores/deck-edit.test.tsは将来的にVitest形式に変換予定

## アップグレード手順

1. 拡張機能を更新
2. ブラウザを再起動

## 関連PR

- #18: 無限ループ問題調査
- #19: 検索入力バーリファクタリング
